<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Daisuke - AI Chatbot</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
      background-color: #121212;
      color: #e0e0e0;
      line-height: 1.6;
    }
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5rem 5%;
      background-color: #000000;
      position: sticky;
      top: 0;
      z-index: 100;
      border-bottom: 2px solid #00ff88;
    }
    .logo {
      font-size: 1.8rem;
      font-weight: bold;
      color: #00ff88;
      text-decoration: none;
    }
    .nav-links {
      display: flex;
      gap: 2rem;
    }
    .nav-links a {
      color: #e0e0e0;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s;
    }
    .nav-links a:hover {
      color: #00ff88;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }
    .chatbot-container {
      max-width: 800px;
      margin: 3rem auto;
      background-color: #1e1e1e;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 255, 136, 0.1);
      border: 1px solid #333333;
    }
    .chatbot-header {
      background-color: #000000;
      padding: 1.5rem;
      border-bottom: 2px solid #00ff88;
      text-align: center;
    }
    .chatbot-header h2 {
      color: #00ff88;
      margin-bottom: 0.5rem;
    }
    .chatbot-header p {
      color: #b0b0b0;
    }
    .chat-messages {
      height: 500px;
      overflow-y: auto;
      padding: 1.5rem;
      background-color: #121212;
    }
    .message {
      margin-bottom: 1rem;
      padding: 1rem;
      border-radius: 8px;
      max-width: 80%;
      line-height: 1.5;
      position: relative;
    }
    .user-message {
      background-color: #003d1f;
      margin-left: auto;
      border-bottom-right-radius: 0;
      border: 1px solid #00a55a;
    }
    .bot-message {
      background-color: #1a1a1a;
      margin-right: auto;
      border-bottom-left-radius: 0;
      border: 1px solid #333333;
    }
    .chat-input-container {
      display: flex;
      padding: 1rem;
      background-color: #000000;
      border-top: 1px solid #333333;
    }
    #user-input {
      flex: 1;
      padding: 0.8rem 1rem;
      background-color: #1e1e1e;
      border: 1px solid #333333;
      border-radius: 4px;
      color: #e0e0e0;
      font-size: 1rem;
    }
    #user-input:focus {
      outline: none;
      border-color: #00ff88;
    }
    #send-button {
      margin-left: 0.5rem;
      padding: 0.8rem 1.5rem;
      background-color: #00ff88;
      color: #121212;
      border: none;
      border-radius: 4px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
    }
    #send-button:hover {
      background-color: #00cc6a;
      transform: translateY(-2px);
    }
    .typing-dots {
      display: inline-flex;
      align-items: center;
      height: 17px;
    }
    .typing-dots span {
      display: inline-block;
      width: 6px;
      height: 6px;
      background-color: #e0e0e0;
      border-radius: 50%;
      margin: 0 2px;
      animation: blink 1.4s infinite both;
    }
    .typing-dots span:nth-child(2) {
      animation-delay: 0.2s;
    }
    .typing-dots span:nth-child(3) {
      animation-delay: 0.4s;
    }
    @keyframes blink {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 1; }
    }
    footer {
      text-align: center;
      padding: 2rem;
      background-color: #000000;
      margin-top: 3rem;
      border-top: 2px solid #00ff88;
    }
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
      .chat-messages {
        height: 400px;
        padding: 1rem;
      }
      .message {
        max-width: 90%;
      }
    }
  </style>
</head>
<body>
  <nav>
    <a href="#" class="logo">Daisuke</a>
    <div class="nav-links">
      <a href="#">Home</a>
      <a href="#">About</a>
      <a href="#">Contact</a>
    </div>
  </nav>
  <div class="container">
    <div class="chatbot-container">
      <div class="chatbot-header">
        <h2>Daisuke AI Assistant</h2>
        <p>Your intelligent conversational partner</p>
      </div>
      <div class="chat-messages" id="chat-box">
        <div class="message bot-message">Hi! I'm Daisuke. Ask me anything.</div>
      </div>
      <div class="chat-input-container">
        <input type="text" id="user-input" placeholder="Type your question here..." autofocus />
        <button id="send-button">Send</button>
      </div>
    </div>
  </div>
  <footer>
    <p>&copy; 2025 Daisuke AI. All rights reserved.</p>
  </footer>
  <script>
    const chatBox = document.getElementById('chat-box');
    const userInput = document.getElementById('user-input');
    const sendBtn = document.getElementById('send-button');const questionWords = ['what', 'how', 'who', 'why', 'when', 'where', 'which', 'whom', 'whose'];
const helpingVerbs = ['is', 'am', 'are', 'was', 'were', 'do', 'does', 'did', 'have', 'has', 'had', 'will', 'would', 'shall', 'should', 'can', 'could', 'may', 'might', 'must'];
const pronouns = ['i', 'you', 'he', 'she', 'it', 'we', 'they', 'me', 'him', 'her', 'us', 'them', 'my', 'your', 'his', 'its', 'our', 'their'];
const wordsToRemove = ['tell', 'mean', 'meaning'];

function cleanText(text) {
  return text.toLowerCase().replace(/[^\w\s_]/g, '').split(/\s+/).filter(Boolean);
}

function removeSymbols(text) {
  return text.toLowerCase().replace(/[^\w\s]/g, '').trim();
}

function similarity(a, b) {
  let matches = 0;
  a = a.toLowerCase();
  b = b.toLowerCase();
  const len = Math.max(a.length, b.length);
  for (let i = 0; i < len; i++) {
    if (a[i] === b[i]) matches++;
  }
  return (matches / len) * 100;
}

async function fetchJSON(path) {
  try {
    const res = await fetch(path);
    if (res.ok) return res.json();
  } catch (e) {}
  return null;
}

function addMessage(text, type) {
  const msg = document.createElement('div');
  msg.className = type === 'user' ? 'message user-message' : 'message bot-message';
  msg.textContent = text;
  chatBox.appendChild(msg);
  chatBox.scrollTop = chatBox.scrollHeight;
}

function addTypingIndicator() {
  const msg = document.createElement('div');
  msg.className = 'message bot-message';
  msg.innerHTML = '<div class="typing-dots"><span></span><span></span><span></span></div>';
  chatBox.appendChild(msg);
  chatBox.scrollTop = chatBox.scrollHeight;
  return msg;
}

async function searchAnswer(input) {
  const originalText = input.trim();
  const basic = await fetchJSON('basic.json');
  const noSymbols = removeSymbols(originalText);
  if (basic && basic[noSymbols]) return [basic[noSymbols]];

  let words = cleanText(originalText);
  words = words.filter(word => !questionWords.includes(word));
  let firstValid = words.find(w => !helpingVerbs.includes(w) && !pronouns.includes(w) && !wordsToRemove.includes(w) && /^[a-z0-9_]+$/.test(w));

  if (firstValid) {
    let file = await fetchJSON(`custom/${firstValid[0]}.json`);
    if (file) {
      for (let key in file) {
        if (similarity(key.replace(/_/g, ' '), originalText.toLowerCase()) > 85) return [file[key]];
      }
      for (let key in file) {
        if (similarity(key.replace(/_/g, ' '), originalText.toLowerCase()) > 65) return [file[key]];
      }
    }
    file = await fetchJSON(`commen/${firstValid[0]}.json`);
    if (file) {
      for (let key in file) {
        if (similarity(key.replace(/_/g, ' '), originalText.toLowerCase()) > 85) return [file[key]];
      }
      for (let key in file) {
        if (similarity(key.replace(/_/g, ' '), originalText.toLowerCase()) > 65) return [file[key]];
      }
    }
  }

  // Data search
  const keywords = cleanText(originalText).filter(w => !questionWords.includes(w) && !helpingVerbs.includes(w) && !pronouns.includes(w) && !wordsToRemove.includes(w) && /^[a-z0-9_]+$/.test(w));
  if (!keywords.length) return ["Daisuke: Sorry, I am not trained to answer these questions."];

  const results = [];
  const seen = new Set();

  for (let word of keywords) {
    if (seen.has(word)) continue;
    seen.add(word);
    const a = word[0], b = word[1] || 'a';
    const file = await fetchJSON(`data/${a}/${b}.json`);
    if (file) {
      for (let key in file) {
        if (similarity(key, word) > 90) {
          results.push(file[key]);
          break;
        }
      }
      for (let key in file) {
        const sim = similarity(key, word);
        if (sim > 40 && sim < 80 && key.includes('_')) {
          results.push(file[key]);
          break;
        }
      }
    }
  }

  return results.length ? [...new Set(results)] : ["Daisuke: Sorry, I am not trained to answer these questions."];
}

async function handleSend() {
  const input = userInput.value.trim();
  if (!input) return;
  addMessage(input, 'user');
  userInput.value = '';
  const typing = addTypingIndicator();
  const answers = await searchAnswer(input);
  typing.remove();
  addMessage(answers.join('\n\n'), 'bot');
}

sendBtn.addEventListener('click', handleSend);
userInput.addEventListener('keypress', e => {
  if (e.key === 'Enter') handleSend();
});

  </script>
</body>
</html>
